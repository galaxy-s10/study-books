<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<script>

    /* 
       typeof，返回的结果用该类型的字符串(全小写字母)形式 
       缺点：对象，数组，null，以及所以new的东西（除了function，new Function()会返回fucntion），都返回object
    */

    var str = 'abc'
    var num = 1
    var bool = true
    var arr = [1, 2, 3]
    var obj = { name: 'haoxl', age: 18 }
    var fun = function () { console.log('I am a function') }
    var und = undefined
    var nul = null
    var str1 = new String(123)
    var num1 = new Number(123)
    var bool1 = new Boolean(true)
    var arr1 = new Array([])
    var obj1 = new Object({})
    var fun1 = new Function('a', 'b')

    console.log(typeof str);    //string
    console.log(typeof num);    //number
    console.log(typeof bool);   //boolean
    console.log(typeof arr);    //object
    console.log(typeof obj);    //object
    console.log(typeof fun);    //function
    console.log(typeof und);    //undefined
    console.log(typeof nul);    //object
    console.log(typeof str1);   //object
    console.log(typeof num1);   //object
    console.log(typeof bool1);  //object
    console.log(typeof arr1);   //object
    console.log(typeof obj1);   //object
    console.log(typeof fun1);   //function

    /* 
        instanceof
        A instanceof B，A对象是不是B构造函数构造出来的。A对象的原型链上有没有B的原型。
        缺点：
        1，不能区别undefined和null，而且对于基本类型如果不是用new声明的则也测试不出来，但可以测数组或引用类型
        2，对于是使用new声明的类型，它还可以检测出多层继承关系。
     */

    console.log('---------------------');
    console.log(str instanceof String, str instanceof Object);      // false,false
    console.log(num instanceof Number, num instanceof Object);      // false,false
    console.log(bool instanceof Boolean, bool instanceof Object);   // false,false
    console.log(arr instanceof Array, arr instanceof Object);       // true,true
    console.log(obj instanceof Object);                             // true
    console.log(fun instanceof Function, fun instanceof Object);    // true,true
    console.log(und instanceof Object);                             // false
    console.log(nul instanceof Object);                             // false
    console.log(str1 instanceof String, str1 instanceof Object);    // true,true
    console.log(num1 instanceof Number, num1 instanceof Object);    // true,true
    console.log(fun1 instanceof Function, fun1 instanceof Object);  // true,true
    console.log(obj1 instanceof Object);                            // true

    /*
        constructor,
        可以判断数组和对象，
        缺点：undefined和null没有contructor属性
     */

    console.log('---------------------');
    console.log(str.constructor === String, str.constructor === Object);        // true,false
    console.log(num.constructor === Number, num.constructor === Object);        // true,false
    console.log(bool.constructor === Boolean, bool.constructor === Object);     // true,false
    console.log(arr.constructor === Array, arr.constructor === Object);         // true,false
    console.log(obj.constructor === Object);                                    // true
    console.log(fun.constructor === Function, fun.constructor === Object);      // true,false
    console.log(str1.constructor === String, str1.constructor === Object);      // true,false
    console.log(num1.constructor === Number, num1.constructor === Object);      // true,false
    console.log(bool1.constructor === Boolean, bool1.constructor === Object);   // true,false
    console.log(arr1.constructor === Array, arr1.constructor === Object);       // true,false
    console.log(obj1.constructor === Object);                                   // true
    console.log(fun1.constructor === Function, fun1.constructor === Object);    // true,false

    /* 
        Object.prototype.toString.call()
     */
    console.log('---------------------');
    console.log(Object.prototype.toString.call(str));   //[object String]
    console.log(Object.prototype.toString.call(num));   //[object Number]
    console.log(Object.prototype.toString.call(bool));  //[object Boolean]
    console.log(Object.prototype.toString.call(arr));   //[object Array]
    console.log(Object.prototype.toString.call(obj));   //[object Object]
    console.log(Object.prototype.toString.call(fun));   //[object Function]
    console.log(Object.prototype.toString.call(und));   //[object Undefined]
    console.log(Object.prototype.toString.call(nul));   //[object Null]


    var res = Object.prototype.toString.call(obj).replace(/^\[object (\S+)\]$/, '$1');
    console.log(res);
    var regstr = '[object Function]'
    var regstr1 = 'name=aaa&id=27&age=18'
    var res1 = regstr.match(/\s+(\w+)/)
    var res2 = regstr1.match(/(^|&)id=([^&]*)(&|$)/)
    console.log(res1[1]);
    console.log(res2);
    // var res1 = Object.prototype.toString.call(obj).match(/\s+(\w+)/)
    // console.log(res);
    // console.log(res1);
    


</script>

<body>

</body>

</html>