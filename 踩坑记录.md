# vue-canvas-poster

> 使用vue-canvas-poster的时候，painting的参数不要和painting一样，不然会出现右边多十几个透明像素的bug

```vue
<vue-canvas-poster :painting="painting1" @success="success" @fail="fail" />
```

# postcss-px-to-viewport

版本： "postcss-px-to-viewport": "1.1.1",

## 注释不生效

> 使用/* px-to-viewport-ignore-next */ 注释不生效，https://github.com/evrone/postcss-px-to-viewport/issues/72

解决：

1，将px换成大写PX就不会转换成vw，但是格式化代码的时候，又会把PX转换成小写。

2，配置插件的selectorBlackList，把不想转换的类名加进去。缺点：整个class的样式都不会转vw，做不到精细控制单个样式。如果想精细控制到里面的单个样式，就只能把要排除的样式抽成一个单独的class，然后单独对这个class做排除。即利用css预处理器的常用功能：继承。

```css
 //这个aaa里面，如果我不想padding的px转换为vw，但width和height还想想转换为vw。就只能抽出来了
.aaa{
  width:100px;
  height:100px;
  padding:10px;
}
//转换为下面的写法
.paddingIgnore{
  padding:10px;
}
.aaa{
  width:100px;
  height:100px;
  @extend .paddingIgnore;//这里用的scss，继承的优先级低，不管写哪里，有一样的属性都会被覆盖掉。
  //因为继承过来的属性没有被转换，因此，这里就会继承.paddingIgnore的10px。
}
```

3，如果没有用css预处理器，那么就把某项不想转换的样式属性作为行内样式单独写style里即可。

4，https://github.com/our-patches/postcss-px-to-viewport/releases/tag/1.2.0，貌似可以解决，但没实际试过。

5，yarn add -D @our-patches/postcss-px-to-viewport

## 某些样式属性不转换

```css
.commonTagIcon {
  padding-top: 1px;	//不转换
  padding-bottom: 1px; //不转换
  padding-left:1px;		//转换
  padding-right:1px;	//转换
  //padding: 1px 7px;	//转换为：padding: 1px 1.94444vw
}
```

# umi

umi新增public目录后，需要重新启动项目，否则可能不会热更新。

## history

记住，window.history和umi框架内置的history不一样！具体可打印这两个api的信息出来对比一下。

# 浏览器地址栏

浏览器地址栏现在是：http://localhost:8080/public/author.jpg，如果换成http://localhost:8080/public/../author.jpg，回车，会跳转到：http://localhost:8080/author.jpg。

# webpack

## 静态资源目录

比如我的静态资源目录是public，如果我通过相对路径去引用那张图片，这张图片最终也会当做普通资源解析然后打包的（即还是会被当做图片资源解析，图片名字会重命名），并不会直接当做静态资源输出。

如果通过绝对路径引入public的图片，就不会进行解析。

```jsx
import React, { memo } from 'react';
import { Button } from 'antd';
import authorImg from '../../../public/author.jpg';

const Home = function (props) {
  const { history } = props;
  console.log(props, 1);
  return (
    <div>
      Home页面1
      {/* 可加载图片 */}
      <img src={authorImg} alt="" style={{ width: '100px' }} />
      {/* 加载不了图片，http://localhost:8080的public目录的../../../public/author.jpg里面没有找到图片 */}
      <img src="../../../public/author.jpg" alt="" style={{ width: '100px' }} />
      {/* 可加载图片，因为http://localhost:8080/author.jpg会访问public目录 */}
      <img src="/author.jpg" alt="" style={{ width: '100px' }} />
    </div>
  );
};
export default memo(Home);

```

# 获取窗口可视范围

切记，如果是要获取的是整个屏幕大小的就使用window.screen，这样就可以获取屏幕固定大小（值是死的）

如果要获取你能看到的屏幕大小，就获取body或者html标签的dom大小，即document.body.clientHeight或者document.documentElement.clientHeight

# IOS的new Date()问题

要创建一个指定时间的new Date对象时，通常的做法是：

new Date("2018-04-27 11:11");然后就可以根据这个获取年月日等信息

这种格式在chrome,firefox,Android中都没有问题。。。。。。但是，但是，但是在IOS中就出问题了，该对象返回的是valid Date??????为什么会返回这个值，这不是有效的意思吗。。。。

结果发现。。。在IOS中，new Date中指定的字符串还有格式。。。

new Date("2018/04/27 11:11")，这样才能正确返回结果。。。。。。。。。。。

Safari和IE没有测试过，不知道是否也会出现这种问题，如果有类似情况出现，那么可以用下面的方法来解决

var obj=new Date("2018-04-27 11:11").replace(/-/g, "/");

毕竟 在new Date里面的2018/04/27 这种格式在其它浏览器中也支持。。。。

